# Упражнение 4. Машина Тьюринга-Поста

Начальное состояние ленты машины Поста для всех заданий -- случайно, если не указанно обратное.

Начальная текущая ячейка ленты для всех заданий -- первая.

Положение курсора (текущая ячейка) в конце работы программы может быть любое, если в задании не указано обратное. Главное, чтобы содержимое ленты в конце работы было правильным.

Проверять программы можно по ссылке: (in .private)
(просьба не публиковать данную ссылку в общий доступ)

Симулятор машины по ссылке работает так:

* в первой строке задаётся начальное состояние ленты машины Поста (в текущей реализации лента конечна)
* ниже должна быть одна пустая строка
* далее идёт программа на (нестандартном) языке для машины Поста:

Пример программы с лентой:

    1 0 0 0 0 0 1 0 0 0 0

    00: ? 10 : 50       ; check current cell for 1
    10: > 1             ; move right and place 1
    20: >               ; move right
    30: 1               ; place 1
    40: >>              ; move right twice
    50: 1               ; move right
    60:                 ; no operation
    99: x               ; stop

    ; x - stop
    ; < - move left
    ; > - move right
    ; 1 - write one,
    ; 0 - write zero
    ; ? - if current cell equals to one then jump by first target
    ;     otherwise jump by second target

С символа `;` начинаются комментарии (как в ассемблерных языках). В них описана семантика всех команд.

При запуске (кнопка `run`) программа выводит конечное состояние ленты, например:

    1  1  1  0 <1> 0  1  0  0  0  0

где через `<_>` обозначена текущая ячейка на момент окончания программы.

## Задание 1. Движение курсора

Разработать программу для машины Поста, перемещающую курсор с первой ячейки на третью и ставящую там единицу.

Например, если начальное состояние ленты

    0 0 0 0
    ^

(знаком `^` обозначена текущая ячека.)

то конечное состояние должно быть

    0 0 1 0
        ^

Решение:

```
0 0 0 0 
        
00: >> 1
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 2. Недеструктивный NOT

Разработать программу для машины Поста, выпоняющую операцию НЕ над первой ячейкой и записывающую результат во вторую:

    1 1 -> 1 0
    0 0 -> 0 1
    1 0 -> 1 0

Решение:

```
1 1 
        
00: ? 10 : 20
10: > 0 x
20: > 1 x
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 3. Копирование ячейки

Разработать программу для машины Поста, дублирующую значение первой ячейки во вторую.

Т.е. если в первой ячейке 0, то вторую ячейку тоже должен записаться ноль, иначе - единица.

Например, если начальное состояние ленты

    1 0 0 0
    ^

(знаком `^` обозначена текущая ячека.)

то конечное состояние должно быть

    1 1 0 0
      ^

Решение:

```
1 0 0 0 
        
00: ? 10 : 20
10: > 1 x
20: > 0 x
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 4. Копирование двух ячеек

Разработать программу для машины Поста, копирующую значения ячеек 1 и 2 в ячейки 3 и 4 соответственно.

Например

    1 0 0 0

должно стать

    1 0 1 0

Решение:

```
0 0 1 1 
        
00: ? 10 : 20
10: >> 1
11: !21
20: >> 0
21: <
22: ? 30 : 40
30: >> 1 x
40: >> 0
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 5. Дизъюнкция

Разработать программу для машины Поста, выполняющую операцию ИЛИ над первыми двумя ячейками и записывающую результат в третью:

    1 0 0 0 -> 1 0 1 0

Решение:

```
0 0 1 1 
        
00: ? 21 : 10
10: >
11: ? 22 : 20
20: > 0 x
21: >
22: > 1
30:
40:
50:
60: 
70: 
80: 
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 6. Конъюнкция

Разработать программу для машины Поста, выполняющую операцию И над первыми двумя ячейками и записывающую результат в третью.

Решение:

```
1 0 1 1 
        
00: ? 10 : 19
10: >
11: ? 22 : 20
19: >
20: > 0 x
21: >
22: > 1
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 7. Универсальные машины

Пусть лента машины Поста заполнена нулями, но где-то на ней стоит одна единица.

Разработать программу для машины Поста, перемещающую курсор машины к этой единице.

Решение:

```
0 0 0 0 0 1 0 
        
00: ? 99 : 10
10: >
11: !00
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 8. Универсальные машины

Пусть лента машины Поста заполнена нулями, но где-то на ней стоят две единицы.

Разработать программу для машины Поста, заполняющую пространство (нули) между этими единицами единицами.

Напрмиер, для исходного состояния ленты:

    0 0 0 0 1 0 0 0 1 0 0 0 0

конечное состояние должно быть

    0 0 0 0 1 1 1 1 1 0 0 0 0

Решение:

```
0 0 0 0 1 0 0 0 1 0 0 0 0
        
00: ? 12 : 10
10: >
11: !00
12: 1 >
19: ? 99 : 12
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Задание 9. Универсальные машины

Пусть лента машины Поста заполнена так:

1. в начале ленты есть `n >= 1` единиц,
2. затем идёт ровно один ноль,
3. а затем идут ещё `m >= 1` едниниц,
4. после чего стоит ещё один или несколько нулей

Разработать программу для машины Поста, находящую сумму данных чисел, считая, что это числа, записанные в единичной системе счисления без нуля, т.е.:

    1 -- это 1 0
    2 -- это 1 1 0
    3 -- это 1 1 1 0
    и так далее

Напрмиер, для исходного состояния ленты:

    1 1 0 1 1 0 0 0

конечное состояние должно быть

    1 1 1 1 0 0 0 0

так как 2 + 2 == 4.

Решение:

```
1 1 0 1 1 0 0 0

00: >
10: ? 00 : 20
20: > 
30: ? 40 : 99 
40: < 1 > 0 >
50: !30
99: x               ; stop

; x - stop
; < - move left
; > - move right 
; 1 - write one, 
; 0 - write zero
; ? n1 : n2 - if current cell equals to one then jump by first target
;     otherwise jump by second target
```

## Рекомендуемая литература и ресурсы

Charles Petzold. Code. The Hidden Language of Computer Hardware and Software
(Чарльз Петцольд. Код: тайный язык информатики)
